{
  "id": "kJ6CKf3JPavFZYvM",
  "meta": {
    "instanceId": "60046904b104f0f72b2629a9d88fe9f676be4035769f1f08dad1dd38a76b9480",
    "templateCredsSetupCompleted": true
  },
  "name": "2Ô∏è‚É£ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: –î–æ–º–µ–Ω –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞**",
  "tags": [],
  "nodes": [
    {
      "id": "ee9b60aa-0808-4720-be3a-059b3361100c",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        480,
        280
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "8sEyPDkC5p4w4Jha",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "dbcf5e5e-c02c-4324-83df-5fc76727d1af",
      "name": "MCP Client",
      "type": "n8n-nodes-mcp.mcpClientTool",
      "position": [
        660,
        280
      ],
      "parameters": {
        "toolName": "scrape_as_markdown",
        "operation": "executeTool",
        "toolParameters": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Tool_Parameters', ``, 'json') }}"
      },
      "credentials": {
        "mcpClientApi": {
          "id": "eqq94k789oJCd6jU",
          "name": "MCP Client (STDIO) account"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "0bdbf6bb-746a-4865-8ca5-d0cd5486e0d1",
      "name": "Trigger: Manual Execute",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        0,
        0
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2ed6588f-489e-4057-8b3b-f9f19ffa0b86",
      "name": "Set: Competitor Domain",
      "type": "n8n-nodes-base.set",
      "position": [
        200,
        0
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "910cdf0d-ed9b-426f-a00e-b0f7c41dc29a",
              "name": "url",
              "type": "string",
              "value": "https://ahrefs.com/"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "b750cb56-d2db-496c-b7ec-53b355049d4d",
      "name": "Agent: Scrape Backlinks (Bright Data MCP)",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        520,
        0
      ],
      "parameters": {
        "text": "=extract any backlinks available from the following url:\n{{ $json.url }}",
        "options": {},
        "promptType": "define",
        "hasOutputParser": true
      },
      "typeVersion": 2
    },
    {
      "id": "69860787-3f93-472a-8395-c43c24f6cf02",
      "name": "Function: Split Backlinks",
      "type": "n8n-nodes-base.code",
      "position": [
        1000,
        0
      ],
      "parameters": {
        "jsCode": "// This Function node takes input like your provided JSON\n// and returns each backlink as a separate item\n\n// 1Ô∏è‚É£ Get the input\nconst input = items[0].json.output;\n\n// 2Ô∏è‚É£ Extract backlinks array\nconst backlinks = input.backlinks;\n\n// 3Ô∏è‚É£ Build output items\nconst output = backlinks.map(backlink => {\n  return {\n    json: {\n      domain: input.domain,\n      title: backlink.title,\n      url: backlink.url,\n      category: backlink.category,\n      date: backlink.date\n    }\n  };\n});\n\n// 4Ô∏è‚É£ Return array of individual items\nreturn output;\n"
      },
      "typeVersion": 2
    },
    {
      "id": "cfecaa49-3d11-47ec-a18c-cc26b1e52e99",
      "name": "Google Sheets: Append Backlinks",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1200,
        0
      ],
      "parameters": {
        "columns": {
          "value": {
            "url": "={{ $json.url }}",
            "date": "={{ $json.date }}",
            "title": "={{ $json.title }}",
            "domain": "={{ $json.domain }}",
            "category": "={{ $json.category }}"
          },
          "schema": [
            {
              "id": "domain",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "domain",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "title",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "title",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "url",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "category",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "category",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "date",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "date",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/11_bI1ZmRuroowdXLaQ9OKM11vnaJ134NcE_tLh7S3jw/edit#gid=0",
          "cachedResultName": "Sheet1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "11_bI1ZmRuroowdXLaQ9OKM11vnaJ134NcE_tLh7S3jw",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/11_bI1ZmRuroowdXLaQ9OKM11vnaJ134NcE_tLh7S3jw/edit?usp=drivesdk",
          "cachedResultName": "Backlinks"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "r2mDaisH6e9VkwHl",
          "name": "Google Sheets account"
        }
      },
      "typeVersion": 4.6
    },
    {
      "id": "33dc3004-5875-4a33-a330-df2b0e3e0ad7",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -40,
        -1240
      ],
      "parameters": {
        "color": 6,
        "width": 380,
        "height": 1440,
        "content": "## ‚úÖ **üîµ –†–ê–ó–î–ï–õ 1: –í–≤–æ–¥ –∏ –¢—Ä–∏–≥–≥–µ—Ä**"
      },
      "typeVersion": 1
    },
    {
      "id": "5ad521f9-c227-4e44-a796-68ec79d7e243",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        460,
        -1900
      ],
      "parameters": {
        "color": 3,
        "width": 380,
        "height": 2100,
        "content": "### ‚öôÔ∏è **–£–∑–ª—ã**"
      },
      "typeVersion": 1
    },
    {
      "id": "522c5056-4e30-418b-abc7-2fe6925a058a",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        960,
        -860
      ],
      "parameters": {
        "color": 5,
        "width": 400,
        "height": 1060,
        "content": "1Ô∏è‚É£ **–¢—Ä–∏–≥–≥–µ—Ä: –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**"
      },
      "typeVersion": 1
    },
    {
      "id": "4f58284e-3415-4be4-beb3-09736c824369",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1460,
        -860
      ],
      "parameters": {
        "color": 7,
        "width": 380,
        "height": 240,
        "content": "![‚ö°](https://em-content.zobj.net/thumbs/120/apple/354/high-voltage_26a1.png)"
      },
      "typeVersion": 1
    },
    {
      "id": "eea0c5ec-6e85-41c7-8724-983811834d0f",
      "name": "Sticky Note9",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1840,
        -1240
      ],
      "parameters": {
        "color": 4,
        "width": 1300,
        "height": 320,
        "content": "* **–ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç:** –≠—Ç–æ—Ç —É–∑–µ–ª –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –≤—Ä—É—á–Ω—É—é, –∫–æ–≥–¥–∞ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ ¬´–í—ã–ø–æ–ª–Ω–∏—Ç—å —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å¬ª."
      },
      "typeVersion": 1
    },
    {
      "id": "5fc4b876-acf6-47b4-8fee-857ff4c0b1ec",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1840,
        -900
      ],
      "parameters": {
        "color": 4,
        "width": 1289,
        "height": 3898,
        "content": "* **–ü–æ—á–µ–º—É —ç—Ç–æ –ø–æ–ª–µ–∑–Ω–æ:** –≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –ø–æ –∑–∞–ø—Ä–æ—Å—É. –ü–æ–∑–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å —ç—Ç–æ –Ω–∞ —É–∑–µ–ª **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ** –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∏–ª–∏ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤."
      },
      "typeVersion": 1
    },
    {
      "id": "e1d427ca-b97d-4026-a550-507e31b10370",
      "name": "Auto-fixing Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserAutofixing",
      "position": [
        800,
        280
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 1
    },
    {
      "id": "ece54ff0-7010-4547-b73f-dc59660767c1",
      "name": "OpenAI Chat Model1",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        760,
        520
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "8sEyPDkC5p4w4Jha",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "ad2d763e-decd-49ce-a226-267808c93470",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        940,
        500
      ],
      "parameters": {
        "jsonSchemaExample": "{\n  \"domain\": \"https://ahrefs.com/\",\n  \"backlinks\": [\n    {\n      \"title\": \"Ahrefs Certification: What To Expect and How It Works\",\n      \"url\": \"https://ahrefs.com/blog/ahrefs-certification/\",\n      \"category\": \"Blog\",\n      \"date\": \"March 2025\"\n    },\n    {\n      \"title\": \"Ahrefs Blog\",\n      \"url\": \"https://ahrefs.com/blog/\",\n      \"category\": \"Learn Marketing\"\n    },\n    {\n      \"title\": \"Ahrefs Academy\",\n      \"url\": \"https://academy.ahrefs.com\",\n      \"category\": \"Learn Marketing\"\n    },\n    {\n      \"title\": \"Ahrefs Podcast\",\n      \"url\": \"https://www.youtube.com/c/AhrefsCom\",\n      \"category\": \"Learn Marketing\"\n    },\n    {\n      \"title\": \"Ahrefs YouTube Channel\",\n      \"url\": \"https://www.youtube.com/c/AhrefsCom\",\n      \"category\": \"Learn Marketing\"\n    },\n    {\n      \"title\": \"Help Center\",\n      \"url\": \"https://help.ahrefs.com\",\n      \"category\": \"Resources\"\n    },\n    {\n      \"title\": \"Ahrefs Data\",\n      \"url\": \"https://ahrefs.com/big-data\",\n      \"category\": \"Resources\"\n    },\n    {\n      \"title\": \"Agency Directory\",\n      \"url\": \"https://www.ahrefs.com/agencies\",\n      \"category\": \"User Testimonials and Community\"\n    },\n    {\n      \"title\": \"About Ahrefs\",\n      \"url\": \"https://ahrefs.com/about\",\n      \"category\": \"Company Information\"\n    },\n    {\n      \"title\": \"Jobs at Ahrefs\",\n      \"url\": \"https://ahrefs.com/jobs\",\n      \"category\": \"Company Information\"\n    },\n    {\n      \"title\": \"Twitter\",\n      \"url\": \"https://x.com/ahrefs\",\n      \"category\": \"Social Media\"\n    },\n    {\n      \"title\": \"YouTube\",\n      \"url\": \"https://www.youtube.com/c/AhrefsCom\",\n      \"category\": \"Social Media\"\n    },\n    {\n      \"title\": \"Instagram\",\n      \"url\": \"https://www.instagram.com/ahrefs\",\n      \"category\": \"Social Media\"\n    },\n    {\n      \"title\": \"Facebook\",\n      \"url\": \"https://www.facebook.com/Ahrefs\",\n      \"category\": \"Social Media\"\n    },\n    {\n      \"title\": \"LinkedIn\",\n      \"url\": \"https://www.linkedin.com\",\n      \"category\": \"Social Media\"\n    }\n  ]\n}\n"
      },
      "typeVersion": 1.2
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "16dc3c18-f761-4b99-a44c-8d189ad97893",
  "connections": {
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "Agent: Scrape Backlinks (Bright Data MCP)",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Agent: Scrape Backlinks (Bright Data MCP)",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Set: Competitor Domain": {
      "main": [
        [
          {
            "node": "Agent: Scrape Backlinks (Bright Data MCP)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Trigger: Manual Execute": {
      "main": [
        [
          {
            "node": "Set: Competitor Domain",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Auto-fixing Output Parser",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Auto-fixing Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Agent: Scrape Backlinks (Bright Data MCP)",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Function: Split Backlinks": {
      "main": [
        [
          {
            "node": "Google Sheets: Append Backlinks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Agent: Scrape Backlinks (Bright Data MCP)": {
      "main": [
        [
          {
            "node": "Function: Split Backlinks",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}