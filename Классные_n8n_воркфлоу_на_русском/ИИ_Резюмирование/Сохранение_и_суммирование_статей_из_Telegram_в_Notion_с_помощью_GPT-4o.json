{
  "meta": {
    "instanceId": "INSTANCE_ID_PLACEHOLDER",
    "templateCredsSetupCompleted": true
  },
  "tags": [],
  "nodes": [
    {
      "id": "c0976bf6-0479-4e3f-8cc1-80c108ed4d05",
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "position": [
        0,
        432
      ],
      "webhookId": "TELEGRAM_WEBHOOK_ID_PLACEHOLDER",
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "credentials": {
        "telegramApi": {
          "id": "TELEGRAM_CREDENTIAL_ID_PLACEHOLDER",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "40f0e3e2-e0f2-4756-b57c-2938c6b1a076",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        560,
        704
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "OPENAI_CREDENTIAL_ID_PLACEHOLDER",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "4e984eec-ff19-4cd9-a30a-0779331fe5f3",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        592,
        -16
      ],
      "parameters": {
        "color": 7,
        "width": 480,
        "height": 408,
        "content": "### üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ"
      },
      "typeVersion": 1
    },
    {
      "id": "98fd40b1-4632-4a34-bc81-b68be413ee96",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        528,
        832
      ],
      "parameters": {
        "color": 7,
        "width": 162,
        "height": 115,
        "content": "–°–æ–∑–¥–∞–π—Ç–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–≤–æ–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ API:"
      },
      "typeVersion": 1
    },
    {
      "id": "0a84a129-b018-451f-b16e-57c42b4a6ae7",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1136,
        624
      ],
      "parameters": {
        "color": 7,
        "width": 402,
        "height": 399,
        "content": "- [Telegram Bot](https://sendpulse.com/knowledge-base/chatbot/telegram/create-telegram-chatbot)"
      },
      "typeVersion": 1
    },
    {
      "id": "e6a516f0-0a7e-444e-8294-0f0895e5152e",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        -16
      ],
      "parameters": {
        "width": 562,
        "height": 284,
        "content": "- [OpenAI API Key](https://apidog.com/blog/openai-api-key-free/)"
      },
      "typeVersion": 1
    },
    {
      "id": "bf8383b2-79ec-4d9a-a827-083c2e64abdd",
      "name": "Fetch Article Title & Content",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        256,
        432
      ],
      "parameters": {
        "url": "=https://YOUR_DEPLOYED_ARTICLE_PARSER_URL.vercel.app/api/parse?url={{$json[\"message\"][\"text\"]}}",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "3e61d36a-b943-422f-8500-3792ee36e21c",
      "name": "Generate Highlight + Tag (AI Agent)",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        560,
        432
      ],
      "parameters": {
        "text": "=You are a knowledge management assistant. Given an article title and content, your job is to:\n\n1. Generate a 1‚Äì2 sentence highlight summarizing the article.\n2. Suggest a relevant single-word tag for the article's topic (e.g., AI, Health, Startups, Cloud, Finance).\n\nHere is the article:\n\nTitle: {{ $json[\"title\"] }}\n\nContent: {{ $json[\"content\"] }}\n\nPlease respond with a JSON object like:\n{\n  \"highlight\": \"...\",\n  \"type\": \"...\"\n}\n",
        "options": {},
        "promptType": "define"
      },
      "typeVersion": 2.1
    },
    {
      "id": "383cb738-85da-4cfd-9fb9-66a35d1e720e",
      "name": "Structure Metadata for Notion",
      "type": "n8n-nodes-base.set",
      "position": [
        960,
        432
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "ASSIGNMENT_1_ID",
              "name": "title",
              "type": "string",
              "value": "={{$node[\"Fetch Article Title & Content\"].json[\"title\"]}}"
            },
            {
              "id": "ASSIGNMENT_2_ID",
              "name": "url",
              "type": "string",
              "value": "={{$node[\"Telegram Trigger\"].json[\"message\"][\"text\"]}}"
            },
            {
              "id": "ASSIGNMENT_3_ID",
              "name": "highlight",
              "type": "string",
              "value": "={{ JSON.parse($node[\"Generate Highlight + Tag (AI Agent)\"].json[\"output\"].replace(/```json|```/g, '').trim()).highlight }}"
            },
            {
              "id": "ASSIGNMENT_4_ID",
              "name": "type",
              "type": "string",
              "value": "={{ JSON.parse($node[\"Generate Highlight + Tag (AI Agent)\"].json[\"output\"].replace(/```json|```/g, '').trim()).type }}"
            }
          ]
        }
      },
      "typeVersion": 3.4
    },
    {
      "id": "2475df33-b459-4fbb-9989-daa387c58fac",
      "name": "Save Article to Notion Database",
      "type": "n8n-nodes-base.notion",
      "position": [
        1280,
        432
      ],
      "parameters": {
        "title": "={{$json[\"title\"]}}",
        "options": {},
        "resource": "databasePage",
        "databaseId": {
          "__rl": true,
          "mode": "url",
          "value": "https://www.notion.so/YOUR_DATABASE_ID_PLACEHOLDER?v=YOUR_VIEW_ID_PLACEHOLDER"
        },
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "=‚úÖ Status|select",
              "selectValue": "=Backlog"
            },
            {
              "key": "=üìÖ Date Added|date",
              "date": "={{ $now.format('yyyy-MM-dd') }}"
            },
            {
              "key": "=üì∞ Headline|title",
              "title": "={{$json[\"title\"]}}"
            },
            {
              "key": "=üîó URL|url",
              "urlValue": "={{$json[\"url\"]}}"
            },
            {
              "key": "=üè∑Ô∏è Type|multi_select",
              "multiSelectValue": "={{$json[\"type\"]}}"
            },
            {
              "key": "=‚ú® Highlight|rich_text",
              "textContent": "={{$json[\"highlight\"]}}"
            }
          ]
        }
      },
      "credentials": {
        "notionApi": {
          "id": "NOTION_CREDENTIAL_ID_PLACEHOLDER",
          "name": "Notion account"
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "09133985-19cc-4795-9c2f-f4ac931f5060",
      "name": "Confirm Save via Telegram",
      "type": "n8n-nodes-base.telegram",
      "position": [
        1600,
        432
      ],
      "webhookId": "TELEGRAM_SEND_WEBHOOK_ID_PLACEHOLDER",
      "parameters": {
        "text": "=‚úÖ New article saved to Notion!\n\nüìå {{ $json[\"name\"] }}\nüìù Highlight: {{ $json[\"property_highlight\"] }}\n\nüîó Notion Page: {{ $json[\"url\"] }}\n",
        "chatId": "={{ $node[\"Telegram Trigger\"].json[\"message\"][\"chat\"][\"id\"] }}",
        "additionalFields": {}
      },
      "credentials": {
        "telegramApi": {
          "id": "TELEGRAM_CREDENTIAL_ID_PLACEHOLDER",
          "name": "Telegram account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "406d4a53-c1eb-43f2-a58e-1876c2cff9c6",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        192,
        592
      ],
      "parameters": {
        "color": 7,
        "width": 242,
        "height": 627,
        "content": "- [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Notion](https://developers.notion.com/docs/create-a-notion-integration#create-your-integration-in-notion)"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "",
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Fetch Article Title & Content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Generate Highlight + Tag (AI Agent)",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Article Title & Content": {
      "main": [
        [
          {
            "node": "Generate Highlight + Tag (AI Agent)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structure Metadata for Notion": {
      "main": [
        [
          {
            "node": "Save Article to Notion Database",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Save Article to Notion Database": {
      "main": [
        [
          {
            "node": "Confirm Save via Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Highlight + Tag (AI Agent)": {
      "main": [
        [
          {
            "node": "Structure Metadata for Notion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}