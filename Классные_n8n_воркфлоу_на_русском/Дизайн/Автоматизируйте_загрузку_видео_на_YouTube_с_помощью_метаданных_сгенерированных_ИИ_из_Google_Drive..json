{
  "id": "gIZpJgLpUgdoNNDZ",
  "meta": {
    "instanceId": "9ee1559971f36d9785fb97b48d76ed3a8ac302ff00dd93d8b7301e3feab97aed",
    "templateCredsSetupCompleted": true
  },
  "name": "YT –ù–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ",
  "tags": [],
  "nodes": [
    {
      "id": "add1cd70-4bf4-42f5-87d9-68fa31af7f56",
      "name": "Download New Video",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        -140,
        220
      ],
      "parameters": {
        "fileId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $json.id }}"
        },
        "options": {},
        "operation": "download"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "8GbkH30Del5g4Kbq",
          "name": "Jim Privat"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "1308e94d-1c68-4fae-9d94-ba6248947581",
      "name": "New Video?",
      "type": "n8n-nodes-base.googleDriveTrigger",
      "position": [
        -360,
        220
      ],
      "parameters": {
        "event": "fileCreated",
        "options": {},
        "pollTimes": {
          "item": [
            {
              "mode": "everyMinute"
            }
          ]
        },
        "triggerOn": "specificFolder",
        "folderToWatch": {
          "__rl": true,
          "mode": "id",
          "value": "1EOMCzVDif4XnqCloYvhBNZdx7gyRNpTR"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "8GbkH30Del5g4Kbq",
          "name": "Jim Privat"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "dfb073fc-4365-4669-a17c-73407a14a655",
      "name": "Create Description",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1000,
        180
      ],
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-nano",
          "cachedResultName": "GPT-4.1-NANO"
        },
        "options": {},
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "–í —ç—Ç–æ–º –≤–∏–¥–µ–æ —è –æ–±—Å—É–∂–¥–∞—é –≤–∞–∂–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã —ç–∫–æ–Ω–æ–º–∏–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ –Ω–∞—à–µ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–µ –∂–∏–∑–Ω—å. –Ø –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é, –∫–∞–∫ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏–Ω—Ñ–ª—è—Ü–∏—è, –±–µ–∑—Ä–∞–±–æ—Ç–∏—Ü–∞ –∏ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã–µ —Å—Ç–∞–≤–∫–∏, —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –∫–∞–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω–¥–∏–≤–∏–¥—É—É–º–æ–≤, —Ç–∞–∫ –∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∏–∑–Ω–µ—Å–∞. \n\n–Ø –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞—é, —á—Ç–æ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–∏—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏—á–Ω—ã–º–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, —è –æ–±—ä—è—Å–Ω—è—é, –∫–∞–∫ –∏–Ω—Ñ–ª—è—Ü–∏—è –º–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—å–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏ –ø–æ—á–µ–º—É –≤–∞–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ —Ä–µ—à–µ–Ω–∏–π –æ –∫—Ä–µ–¥–∏—Ç–∞—Ö –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Ö. üí∞\n\n–ö—Ä–æ–º–µ —Ç–æ–≥–æ, —è —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é –≤–ª–∏—è–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö —Ç–µ–Ω–¥–µ–Ω—Ü–∏–π –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä—ã–Ω–∫–∏. –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –º–æ–≥—É—Ç –æ—Ç—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –Ω–∞—à–µ–π —ç–∫–æ–Ω–æ–º–∏–∫–µ –∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–∞ –Ω–∞—à–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö. üåç\n\n–Ø —Ç–∞–∫–∂–µ –¥–µ–ª—é—Å—å —Å–≤–æ–∏–º–∏ –º—ã—Å–ª—è–º–∏ –æ —Ç–æ–º, –∫–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ü–µ–ª–µ–π. –í –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, –æ—Å–≤–µ–¥–æ–º–ª–µ–Ω–Ω–æ—Å—Ç—å –æ–± —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –ø—Ä–∏–Ω–∏–º–∞—Ç—å –±–æ–ª–µ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ —Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –±—É–¥—É—â–µ–µ. üìà\n\n#—ç–∫–æ–Ω–æ–º–∏–∫–∞ #—Ñ–∏–Ω–∞–Ω—Å—ã #–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ #–¥–µ–Ω—å–≥–∏"
            },
            {
              "content": "=–í–æ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç:\n\n{{ $json.transcript }}"
            }
          ]
        }
      },
      "credentials": {
        "openAiApi": {
          "id": "8VZkrnuHUTXNwnlP",
          "name": "Midgard#1"
        }
      },
      "typeVersion": 1.7
    },
    {
      "id": "25ba2d0b-3a7a-49d6-acfa-6e7fa2b98e86",
      "name": "2.5FlashPrev",
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "position": [
        1340,
        180
      ],
      "parameters": {
        "options": {},
        "modelName": "models/gemini-2.5-flash-preview-04-17"
      },
      "credentials": {
        "googlePalmApi": {
          "id": "2Y7XbTPZaxPz6Vhw",
          "name": "Jim Privat"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "23141199-5df7-47d0-8d0e-f5b3a7fe7668",
      "name": "YT Tags",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        1300,
        -20
      ],
      "parameters": {
        "text": "=Now follows the actual topic/transcript. Give me the YouTube tags for it:\n\n{{ $('Adjust Transcript Format').item.json.transcript }}",
        "options": {
          "systemMessage": "This video is about the future gold price and how it affects the returns of high-performing assets like stocks and bonds in their adjusted returns.\n\nExpected output:\nGold price, future gold price, gold investments, asset returns, stocks and bonds, investment returns, adjusted returns, gold market, financial markets, gold price forecast, economic trends, investing in gold, stock market analysis, bond market, investment strategies, inflation and gold, gold vs. stocks, financial analysis, precious metals, portfolio management, market outlook, investment tips"
        },
        "promptType": "define"
      },
      "typeVersion": 1.9
    },
    {
      "id": "c3ff8e2e-7ce6-4538-baea-91a375b98dcb",
      "name": "Get Transcript",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        500,
        220
      ],
      "parameters": {
        "url": "=https://api.apify.com/v2/acts/pintostudio~youtube-transcript-scraper/run-sync-get-dataset-items",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"videoUrl\": \"https://www.youtube.com/watch?v={{ $json.id }}\"\n}",
        "sendBody": true,
        "sendQuery": true,
        "specifyBody": "json",
        "queryParameters": {
          "parameters": [
            {
              "name": "token",
              "value": "={{$json.token}}"
            }
          ]
        }
      },
      "typeVersion": 4.2,
      "alwaysOutputData": false
    },
    {
      "id": "6a03cbf3-5718-4db8-b9cf-31d6d93f73e7",
      "name": "Adjust Transcript Format",
      "type": "n8n-nodes-base.code",
      "position": [
        680,
        220
      ],
      "parameters": {
        "jsCode": "const items = $input.all();\n\nconst transcriptStrings = items.flatMap(item => {\n  const dataArray = item.json.data;\n\n  if (!dataArray || !Array.isArray(dataArray)) {\n    return [];\n  }\n\n  const segmentTexts = dataArray.map(segment => {\n      if (segment && typeof segment.text === 'string') {\n          return segment.text;\n      } else {\n          return '';\n      }\n  });\n\n  return segmentTexts;\n});\n\nconst transcript = transcriptStrings.join(' ');\n\nreturn [\n  {\n    json: {\n      transcript: transcript,\n    },\n  },\n];"
      },
      "typeVersion": 2
    },
    {
      "id": "c6e0bf83-6eaa-41be-9ea1-0dba4cace444",
      "name": "Update Video's Metadata",
      "type": "n8n-nodes-base.youTube",
      "onError": "continueErrorOutput",
      "position": [
        2160,
        240
      ],
      "parameters": {
        "title": "={{ $('YT Title').item.json.title }}",
        "videoId": "={{ $('Upload Video to Youtube').item.json.uploadId }}",
        "resource": "video",
        "operation": "update",
        "categoryId": "25",
        "regionCode": "DE",
        "updateFields": {
          "tags": "={{ $('YT Tags').item.json.message.content }}",
          "description": "={{ $('Create Description').first().json.message.content }}\n\nDiese textbasierte Zusammenfassung des Videos wurde automatisch mit dem KI-Modell gpt-4.1-nano erstellt.]\n"
        }
      },
      "credentials": {
        "youTubeOAuth2Api": {
          "id": "jKf1Vc4ZycKxf0im",
          "name": "YouTube Jim Privat"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "813fc8fc-ed3c-4cd7-8aa5-4c4084fd4e0d",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -380,
        160
      ],
      "parameters": {
        "color": 4,
        "width": 700,
        "height": 240,
        "content": "# –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ –Ω–∞ Youtube üé•‚¨ÜÔ∏è"
      },
      "typeVersion": 1
    },
    {
      "id": "0fb360ba-f843-4820-b05d-3149d7516526",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        320,
        -100
      ],
      "parameters": {
        "color": 4,
        "width": 2660,
        "height": 500,
        "content": "# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–µ–Ω–æ–≥—Ä–∞–º–º—É –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–µ üìùüîç"
      },
      "typeVersion": 1
    },
    {
      "id": "bb494b9e-a707-492a-b88a-83fce01a742f",
      "name": "YT Title",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1720,
        -20
      ],
      "parameters": {
        "modelId": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-nano",
          "cachedResultName": "GPT-4.1-NANO"
        },
        "options": {},
        "messages": {
          "values": [
            {
              "role": "system",
              "content": "–í—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–ø–∏—Ä–∞–π—Ç–µ—Ä –¥–ª—è SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –Ω–∞ YouTube."
            },
            {
              "content": "=–ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ SEO –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –≤–∏–¥–µ–æ –Ω–∞ YouTube –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É —Ç–µ–∫—Å—Ç—É —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞. –¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ, –Ω–∏—á–µ–≥–æ –ª–∏—à–Ω–µ–≥–æ. –ú–∞–∫—Å–∏–º—É–º 100 —Å–∏–º–≤–æ–ª–æ–≤, —Ç–∞–∫ —á—Ç–æ –¥–µ—Ä–∂–∏—Ç–µ –µ–≥–æ –∫–æ—Ä–æ—Ç–∫–∏–º."
            }
          ]
        }
      },
      "credentials": {
        "openAiApi": {
          "id": "8VZkrnuHUTXNwnlP",
          "name": "Midgard#1"
        }
      },
      "typeVersion": 1.7
    },
    {
      "id": "a82d27b7-967e-48f8-8ead-a184872a7abc",
      "name": "Delete File from Upload Folder (Optional)",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        2460,
        -20
      ],
      "parameters": {
        "fileId": {
          "__rl": true,
          "mode": "id",
          "value": "={{ $('Download New Video').item.json.id }}"
        },
        "options": {},
        "operation": "deleteFile"
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "8GbkH30Del5g4Kbq",
          "name": "GDRIVE ACCOUNT P"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "4cff725b-cff0-45e0-9cab-24c2f233c94e",
      "name": "Upload Video to Youtube",
      "type": "n8n-nodes-base.youTube",
      "position": [
        140,
        220
      ],
      "parameters": {
        "title": "adadada",
        "options": {
          "privacyStatus": "private",
          "selfDeclaredMadeForKids": false
        },
        "resource": "video",
        "operation": "upload",
        "categoryId": "25",
        "regionCode": "DE"
      },
      "credentials": {
        "youTubeOAuth2Api": {
          "id": "jKf1Vc4ZycKxf0im",
          "name": "YouTube Jim Privat"
        }
      },
      "typeVersion": 1
    },
    {
      "id": "691fda3c-736c-4d6e-b4f3-8db68a581c79",
      "name": "ApifyToken",
      "type": "n8n-nodes-base.set",
      "position": [
        320,
        220
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "2eb41a6f-d0ef-4ca2-be47-f93b1d5c1edb",
              "name": "token",
              "type": "string",
              "value": "YOURTOKENHERE"
            }
          ]
        }
      },
      "typeVersion": 3.4
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "3a879f43-d8a6-4a87-a233-bafeb296d21a",
  "connections": {
    "YT Tags": {
      "main": [
        [
          {
            "node": "YT Title",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "YT Title": {
      "main": [
        [
          {
            "node": "Update Video's Metadata",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ApifyToken": {
      "main": [
        [
          {
            "node": "Get Transcript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "New Video?": {
      "main": [
        [
          {
            "node": "Download New Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "2.5FlashPrev": {
      "ai_languageModel": [
        [
          {
            "node": "YT Tags",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Get Transcript": {
      "main": [
        [
          {
            "node": "Adjust Transcript Format",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Description": {
      "main": [
        [
          {
            "node": "YT Tags",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download New Video": {
      "main": [
        [
          {
            "node": "Upload Video to Youtube",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update Video's Metadata": {
      "main": [
        [
          {
            "node": "Delete File from Upload Folder (Optional)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Video to Youtube": {
      "main": [
        [
          {
            "node": "ApifyToken",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Adjust Transcript Format": {
      "main": [
        [
          {
            "node": "Create Description",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}