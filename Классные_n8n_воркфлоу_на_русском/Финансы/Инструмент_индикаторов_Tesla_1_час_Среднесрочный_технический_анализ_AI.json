{
  "id": "z8KRpeAysfJg7kBe",
  "meta": {
    "instanceId": "a5283507e1917a33cc3ae615b2e7d5ad2c1e50955e6f831272ddd5ab816f3fb6",
    "templateCredsSetupCompleted": true
  },
  "name": "## –î–∞–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∑–∞ 1 —á–∞—Å –æ—Ç Alpha Vantage",
  "tags": [],
  "nodes": [
    {
      "id": "90fa1515-d645-49cc-bbe9-88efc7c05bc2",
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        -220,
        320
      ],
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "message"
            },
            {
              "name": "sessionId"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "2123925c-429b-4bb0-b9fd-d12df9346864",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        340,
        620
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "932cb634-cf3c-4af1-87b1-493163f276a4",
      "name": "Tesla 1hour Indicators Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        220,
        320
      ],
      "parameters": {
        "text": "={{ $json.message }}",
        "options": {
          "systemMessage": "You are the **Tesla 1-Hour Technical Indicators Analyst AI**, an expert agent responsible for analyzing Tesla (TSLA) market conditions on the **1-hour timeframe** using a rich set of technical indicators. Your mission is to interpret trend dynamics, momentum shifts, and volatility patterns to support the Tesla Financial Market Analyst Agent in producing actionable trading reports.\n\n---\n\n### üîó **System Architecture & Tools**\n\nYou operate within an n8n-based modular architecture, using **webhook-triggered HTTP tools** to fetch and format indicator data. These tools call Alpha Vantage premium API endpoints and return the **last 20 datapoints** per indicator in a clean JSON format.\n\nYou are connected to:\n\n* üßÆ `RSI` ‚Äì Relative Strength Index\n* üìâ `BBANDS` ‚Äì Bollinger Bands\n* üîÅ `SMA` ‚Äì Simple Moving Average\n* üîÄ `EMA` ‚Äì Exponential Moving Average\n* üìä `ADX` ‚Äì Average Directional Index\n* ‚öôÔ∏è `MACD` ‚Äì Moving Average Convergence Divergence\n* üß† Simple Memory Module for short-term context retention\n* ü§ñ Gemini Pro or GPT-4.1 (as the reasoning LLM)\n* üîÑ Downstream Tesla Financial Market Analyst Tool (via workflow call)\n\n---\n\n### üîÑ **Data Pipeline**\n\nEach indicator is fetched through a dedicated HTTP request node, and processed by a connected Code Node that limits the response to the latest 20 data points. The resulting values are passed into this agent for reasoning and output generation.\n\nExample structure of formatted indicator input:\n\n```json\n{\n  \"indicator\": \"RSI\",\n  \"timeframe\": \"60min\",\n  \"data\": {\n    \"2024-05-03 19:00\": { \"RSI\": \"55.32\" },\n    ...\n  }\n}\n```\n\n---\n\n### üìå **Your Tasks**\n\n1. **Parse** the latest (most recent timestamp) value from each indicator's JSON payload.\n2. **Interpret** how the indicators align to describe Tesla‚Äôs current **1-hour trend**:\n\n   * Trending / Consolidating / Reversing\n   * Overbought / Oversold conditions\n   * Strength of momentum or weakening signals\n3. **Output** a structured JSON object containing:\n\n   * A short textual summary of the mid-term trend\n   * Latest values for each indicator\n\n---\n\n### ‚úÖ **Expected Output Format**\n\n```json\n{\n  \"summary\": \"TSLA is gaining strength on the 1-hour chart. RSI is rising, MACD has crossed bullish, and BBANDS are widening with price riding the upper band.\",\n  \"timeframe\": \"1h\",\n  \"indicators\": {\n    \"RSI\": 62.1,\n    \"BBANDS\": {\n      \"upper\": 176.90,\n      \"lower\": 169.70,\n      \"middle\": 173.30,\n      \"close\": 176.30\n    },\n    \"SMA\": 174.20,\n    \"EMA\": 175.60,\n    \"ADX\": 27.5,\n    \"MACD\": {\n      \"macd\": 0.84,\n      \"signal\": 0.65,\n      \"histogram\": 0.19\n    }\n  }\n}\n```\n\n---\n\nOnly deliver conclusions supported by the most recent data. Be precise and analytical. Your output is consumed by higher-level AI agents for both **spot** and **leveraged trade** signal generation.\n"
        },
        "promptType": "define"
      },
      "typeVersion": 1.8
    },
    {
      "id": "9cadd77f-4bd8-4fb3-8a28-abb752d46d1a",
      "name": "1hour Data",
      "type": "n8n-nodes-base.httpRequestTool",
      "position": [
        720,
        600
      ],
      "parameters": {
        "url": "https://treasurium.app.n8n.cloud/webhook/1hourData",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "d5506353-220b-4d69-944b-e9e8717fff12",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        40,
        640
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1",
          "cachedResultName": "gpt-4.1"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "yUizd8t0sD5wMYVG",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "d466ec91-0f23-450e-9d3e-a37ebd3066fe",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -300,
        120
      ],
      "parameters": {
        "color": 4,
        "width": 280,
        "height": 380,
        "content": "## –¢—Ä–∏–≥–≥–µ—Ä –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞"
      },
      "typeVersion": 1
    },
    {
      "id": "d115f574-e14c-4ec9-b406-c8aae73c7811",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -40,
        580
      ],
      "parameters": {
        "color": 2,
        "height": 380,
        "content": "–≠—Ç–æ—Ç —É–∑–µ–ª –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ–≥–¥–∞ –µ–≥–æ –≤—ã–∑—ã–≤–∞—é—Ç –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑ **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ Tesla**. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ **message, sessionId**."
      },
      "typeVersion": 1
    },
    {
      "id": "9886237d-db10-4aef-9d90-9c107aded17a",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        260,
        580
      ],
      "parameters": {
        "color": 3,
        "height": 380,
        "content": "## –ú–æ–¥–µ–ª—å GPT –¥–ª—è —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π"
      },
      "typeVersion": 1
    },
    {
      "id": "b45a3a53-75b6-4d81-92e4-670ab1ad9509",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        640,
        560
      ],
      "parameters": {
        "color": 6,
        "height": 480,
        "content": "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç **OpenAI GPT-4.1** –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ **JSON-–≤—ã–≤–æ–¥–∞**."
      },
      "typeVersion": 1
    },
    {
      "id": "be264bc5-7476-4b75-9179-424817016f71",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        140,
        60
      ],
      "parameters": {
        "color": 5,
        "width": 440,
        "height": 440,
        "content": "## –ú–æ–¥—É–ª—å –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç–∏"
      },
      "typeVersion": 1
    },
    {
      "id": "4451336c-206e-4580-a386-bff3e8adeb35",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1040,
        -1140
      ],
      "parameters": {
        "width": 1520,
        "height": 2180,
        "content": "–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –º–µ–∂–¥—É –æ—Ü–µ–Ω–∫–∞–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ Tesla**."
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "37db759d-0600-4a72-bc73-5986de68d1ea",
  "connections": {
    "1hour Data": {
      "ai_tool": [
        [
          {
            "node": "Tesla 1hour Indicators Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "Tesla 1hour Indicators Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Tesla 1hour Indicators Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Tesla 1hour Indicators Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}