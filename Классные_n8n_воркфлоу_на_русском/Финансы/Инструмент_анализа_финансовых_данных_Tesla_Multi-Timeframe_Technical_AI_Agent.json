{
  "id": "4yfxfcCRXpvlzs8o",
  "meta": {
    "instanceId": "a5283507e1917a33cc3ae615b2e7d5ad2c1e50955e6f831272ddd5ab816f3fb6",
    "templateCredsSetupCompleted": true
  },
  "name": "–ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç **—Å–∏–≥–Ω–∞–ª—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–¥–∏–Ω–æ–µ —Ç–æ—Ä–≥–æ–≤–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è TSLA.",
  "tags": [],
  "nodes": [
    {
      "id": "61273b0f-ba1c-41ef-9e47-10ff49c69970",
      "name": "When Executed by Another Workflow",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "position": [
        -160,
        240
      ],
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "message"
            },
            {
              "name": "sessionId"
            }
          ]
        }
      },
      "typeVersion": 1.1
    },
    {
      "id": "e5db0516-2692-450a-83a9-3a78a540d9b6",
      "name": "Tesla Financial Market Data Analyst",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        280,
        240
      ],
      "parameters": {
        "text": "={{ $json.message }}",
        "options": {
          "systemMessage": "You are the **Tesla Financial Market Data Analyst AI**, a specialized sub-agent responsible for transforming technical indicator data and candlestick behavior into structured trading insights for **Tesla (TSLA)**. Your findings are consumed by the Tesla Quant Trading AI Agent to support trading signal generation.\n\n---\n\n### üõ†Ô∏è Connected Sub-Agents & Tool Workflows:\n\nEach tool is executed **via HTTPS webhook calls**, returning **pre-processed, 20-point formatted JSON** from Alpha Vantage indicators. Formatting occurs in a secondary Code Node after data is fetched. Tools include:\n\n1. **Tesla 15-Minute Indicators Tool**\n   ‚Ä¢ Use: Short-term sentiment, scalping triggers\n   ‚Ä¢ Indicators: RSI, BBANDS, SMA, EMA, ADX, MACD\n   ‚Ä¢ Interval: `15min`\n   ‚Ä¢ Source: Alpha Vantage via webhook\n\n2. **Tesla 1-Hour Indicators Tool**\n   ‚Ä¢ Use: Mid-term trend structure and signal validation\n   ‚Ä¢ Indicators: RSI, BBANDS, SMA, EMA, ADX, MACD\n   ‚Ä¢ Interval: `60min`\n   ‚Ä¢ Source: Alpha Vantage via webhook\n\n3. **Tesla 1-Day Indicators Tool**\n   ‚Ä¢ Use: Long-term trend confirmation and macro positioning\n   ‚Ä¢ Indicators: RSI, BBANDS, SMA, EMA, ADX, MACD\n   ‚Ä¢ Interval: `1d`\n   ‚Ä¢ Source: Alpha Vantage via webhook\n\n4. **Tesla 1-Hour and 1-Day Klines Tool**\n   ‚Ä¢ Use: Price action and candlestick pattern recognition\n   ‚Ä¢ Features: OHLCV data, volume divergence, reversal patterns (e.g., Doji, Engulfing)\n   ‚Ä¢ Source: Alpha Vantage OHLCV via webhook\n\n---\n\n### üß© Workflow Tasks:\n\n1. **Parse Structured Inputs**\n   You receive formatted JSON for all indicators + OHLCV candles grouped by timeframe (15m, 1h, 1d).\n\n2. **Conduct Multi-Timeframe Technical Analysis**\n   ‚Ä¢ Short-term: 15m + 1h\n   ‚Ä¢ Medium-term: 1h + 1d\n   ‚Ä¢ Long-term: 1d + Kline patterns\n   ‚Ä¢ Check for: divergence, trend alignment, overbought/oversold conditions, MACD crossover, Bollinger breakout\n\n3. **Generate Final Signal**\n   Classify technical stance as:\n\n   * `Buy`, `Sell`, `Hold`, or `Cautious` (conflicting signals)\n   * Include supporting indicators, exact values, and timeframe context\n   * Attach confidence score between 0‚Äì1\n\n4. **Format Output in JSON** for downstream AI Agent:\n\n```json\n{\n  \"summary\": \"TSLA momentum is weakening short-term. 1h MACD shows bearish crossover, RSI declining. 1d candles confirm potential reversal setup.\",\n  \"signal\": \"Cautious Sell\",\n  \"confidence\": 0.81,\n  \"multiTimeframeInsights\": {\n    \"15m\": {\n      \"RSI\": 68.3,\n      \"ADX\": 25.1,\n      \"MACD\": { \"macd\": 0.53, \"signal\": 0.61 },\n      \"Comment\": \"Momentum fading, MACD flattening\"\n    },\n    \"1h\": {\n      \"RSI\": 65.0,\n      \"MACD\": { \"macd\": -0.32, \"signal\": 0.11 },\n      \"Comment\": \"Bearish crossover and lower highs forming\"\n    },\n    \"1d\": {\n      \"BBANDS\": { \"upper\": 187.5, \"lower\": 173.2, \"close\": 186.8 },\n      \"MACD\": { \"macd\": 1.03, \"signal\": 1.04 },\n      \"Comment\": \"Approaching upper band resistance; sideways consolidation\"\n    },\n    \"candlestickPatterns\": {\n      \"1h\": \"Doji\",\n      \"1d\": \"Bearish Engulfing\"\n    },\n    \"volumeDivergence\": {\n      \"1h\": \"Bearish\",\n      \"1d\": \"Neutral\"\n    }\n  }\n}\n```\n\n---\n\nüí° **Note**: Only draw conclusions backed by the majority of timeframe-aligned signals. If indicators or patterns are mixed, issue a `Cautious` signal with balanced explanation.\n\n"
        },
        "promptType": "define"
      },
      "typeVersion": 1.8
    },
    {
      "id": "392aebbe-dd43-4722-a123-c5f56fe2e866",
      "name": "Simple Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "position": [
        -40,
        560
      ],
      "parameters": {},
      "typeVersion": 1.3
    },
    {
      "id": "31f67f63-0ede-4009-b858-77e83bf769c8",
      "name": "Tesla 15min Indicators Tool",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        320,
        560
      ],
      "parameters": {
        "name": "Tesla_15min_Indicators_Tool",
        "workflowId": {
          "__rl": true,
          "mode": "list",
          "value": "3zhWhO9278uRWxwU",
          "cachedResultName": "Work Drive ‚Äî Tesla 15min Indicators Tool"
        },
        "workflowInputs": {
          "value": {
            "message": "={{ $fromAI(\"message\",\"Populate this with a relevant message to this subagent\")}}",
            "sessionId": "={{ $json.sessionId }}"
          },
          "schema": [
            {
              "id": "message",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "message",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sessionId",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "sessionId",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "d0f9868b-3ef2-49f9-b49b-0427e2c41413",
      "name": "Tesla 1hour Indicators Tool",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        660,
        560
      ],
      "parameters": {
        "name": "Tesla_1hour_Indicators_Tool",
        "workflowId": {
          "__rl": true,
          "mode": "list",
          "value": "1T7cRj9q0qLQk7OH",
          "cachedResultName": "Work Drive ‚Äî Tesla 1hour Indicators Tool"
        },
        "workflowInputs": {
          "value": {
            "message": "={{ $fromAI(\"message\",\"Populate this with a relevant message to this subagent\")}}",
            "sessionId": "={{ $json.sessionId }}"
          },
          "schema": [
            {
              "id": "message",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "message",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sessionId",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "sessionId",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "ab66b9b2-e6b8-4be2-a02d-708fbc63aa1a",
      "name": "Tesla 1day Indicators Tool",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        1000,
        580
      ],
      "parameters": {
        "name": "Tesla_1day_Indicators_Tool",
        "workflowId": {
          "__rl": true,
          "mode": "list",
          "value": "zFSKcrc1jZmpXoaz",
          "cachedResultName": "Work Drive ‚Äî Tesla 1day Indicators Tool"
        },
        "workflowInputs": {
          "value": {
            "message": "={{ $fromAI(\"message\",\"Populate this with a relevant message to this subagent\")}}",
            "sessionId": "={{ $json.sessionId }}"
          },
          "schema": [
            {
              "id": "message",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "message",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sessionId",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "sessionId",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "9958af3b-a823-4c5f-b517-b1a455ef0106",
      "name": "Tesla 1hour and 1day Klines Tool",
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "position": [
        1340,
        580
      ],
      "parameters": {
        "name": "Tesla_1hour_and_1day_Klines_Tool",
        "workflowId": {
          "__rl": true,
          "mode": "list",
          "value": "ny8gdg0uK8KebW7O",
          "cachedResultName": "Work Drive ‚Äî Tesla 1hour and 1day Klines Tool"
        },
        "workflowInputs": {
          "value": {
            "message": "={{ $fromAI(\"message\",\"Populate this with a relevant message to this subagent\")}}",
            "sessionId": "={{ $json.sessionId }}"
          },
          "schema": [
            {
              "id": "message",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "message",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "sessionId",
              "type": "string",
              "display": true,
              "removed": false,
              "required": false,
              "displayName": "sessionId",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "typeVersion": 2.1
    },
    {
      "id": "f660c411-a4bd-45a8-b612-68bb94315237",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -400,
        580
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4-turbo",
          "cachedResultName": "gpt-4-turbo"
        },
        "options": {}
      },
      "credentials": {
        "openAiApi": {
          "id": "yUizd8t0sD5wMYVG",
          "name": "OpenAi account"
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "5b0367ed-b49d-47ba-afa6-db1f07f9f456",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -240,
        40
      ],
      "parameters": {
        "color": 4,
        "width": 280,
        "height": 380,
        "content": "## –¢—Ä–∏–≥–≥–µ—Ä –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞"
      },
      "typeVersion": 1
    },
    {
      "id": "ee87769d-e5a8-45a1-9d78-43c05bb8318a",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -480,
        520
      ],
      "parameters": {
        "color": 2,
        "height": 380,
        "content": "–≠—Ç–æ—Ç —É–∑–µ–ª –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Ç **Tesla Quant Trading AI Agent**. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ **message, sessionId**."
      },
      "typeVersion": 1
    },
    {
      "id": "2c6c5035-7702-4ce1-ab7e-bb3aed59621f",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -120,
        520
      ],
      "parameters": {
        "color": 3,
        "height": 380,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "309ebf39-3705-4b27-afc2-30a5ae661c1f",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        140,
        -180
      ],
      "parameters": {
        "color": 5,
        "width": 560,
        "height": 600,
        "content": "## –ú–æ–¥–µ–ª—å GPT –¥–ª—è —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π"
      },
      "typeVersion": 1
    },
    {
      "id": "95bf2832-ebd6-43d4-b5d6-cfaa0b903ac9",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        240,
        520
      ],
      "parameters": {
        "color": 6,
        "height": 640,
        "content": "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç **OpenAI GPT-4.1** –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ **JSON-–≤—ã–≤–æ–¥–∞**."
      },
      "typeVersion": 1
    },
    {
      "id": "7c712730-fee6-4c95-a5c3-1cd26fecd94d",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        580,
        520
      ],
      "parameters": {
        "color": 6,
        "height": 640,
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "19adabca-01d3-488a-bd76-dcc2735d7e59",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        920,
        540
      ],
      "parameters": {
        "color": 6,
        "height": 620,
        "content": "## –ú–æ–¥—É–ª—å –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–π –ø–∞–º—è—Ç–∏"
      },
      "typeVersion": 1
    },
    {
      "id": "70a1dd55-b697-4c3a-b21a-aa8a5b5acff1",
      "name": "Sticky Note7",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1260,
        520
      ],
      "parameters": {
        "color": 6,
        "height": 640,
        "content": "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Å–µ—Å—Å–∏–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –º–µ–∂–¥—É –æ—Ü–µ–Ω–∫–∞–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è **Tesla Quant Trading AI Agent**."
      },
      "typeVersion": 1
    },
    {
      "id": "ec4abfb9-f31d-4929-8ccc-e007688f9a3e",
      "name": "Sticky Note8",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1720,
        -1480
      ],
      "parameters": {
        "width": 1360,
        "height": 2660,
        "content": "## –ê–Ω–∞–ª–∏—Ç–∏–∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö Tesla (–æ—Å–Ω–æ–≤–Ω–æ–π AI –∞–≥–µ–Ω—Ç)"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "c9770828-8334-4c0a-abb6-380533ec188d",
  "connections": {
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "Tesla Financial Market Data Analyst",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Tesla Financial Market Data Analyst",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Tesla 1day Indicators Tool": {
      "ai_tool": [
        [
          {
            "node": "Tesla Financial Market Data Analyst",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Tesla 15min Indicators Tool": {
      "ai_tool": [
        [
          {
            "node": "Tesla Financial Market Data Analyst",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Tesla 1hour Indicators Tool": {
      "ai_tool": [
        [
          {
            "node": "Tesla Financial Market Data Analyst",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Tesla 1hour and 1day Klines Tool": {
      "ai_tool": [
        [
          {
            "node": "Tesla Financial Market Data Analyst",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Tesla Financial Market Data Analyst",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}