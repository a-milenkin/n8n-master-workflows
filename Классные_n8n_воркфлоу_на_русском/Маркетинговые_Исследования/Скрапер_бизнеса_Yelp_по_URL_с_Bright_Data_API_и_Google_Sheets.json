{
  "id": "MTFFo3zU2JtQDbCy",
  "meta": {
    "instanceId": "bc8ca75c203589705ae2e446cad7181d6f2a7cc1766f958ef9f34810e53b8cb2",
    "templateCredsSetupCompleted": true
  },
  "name": "–°–±–æ—Ä—â–∏–∫ –±–∏–∑–Ω–µ—Å–∞ Yelp –ø–æ URL —á–µ—Ä–µ–∑ API Bright Data —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ Google Sheets",
  "tags": [],
  "nodes": [
    {
      "id": "c79123e0-4c50-4b36-979c-0d396d722354",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2440,
        -840
      ],
      "parameters": {
        "width": 220,
        "height": 240,
        "content": "–ó–∞–ø—É—Å–∫–∞–µ—Ç —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å, –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç URL –±–∏–∑–Ω–µ—Å–∞ Yelp —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É."
      },
      "typeVersion": 1
    },
    {
      "id": "01d3783f-5eb1-40a9-a5b0-dbe5898053d0",
      "name": "üì• Form Trigger",
      "type": "n8n-nodes-base.formTrigger",
      "position": [
        -2380,
        -760
      ],
      "webhookId": "ae4aacb7-a062-4172-8817-f51716a841b7",
      "parameters": {
        "options": {},
        "formTitle": "Yelp Service URL",
        "formFields": {
          "values": [
            {
              "fieldLabel": "URL"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "194283a3-8d99-48b0-8665-51a9675e298e",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2200,
        -840
      ],
      "parameters": {
        "color": 3,
        "width": 220,
        "height": 240,
        "content": "–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç URL –≤ Bright Data, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–∏–∑–Ω–µ—Å–∞ Yelp."
      },
      "typeVersion": 1
    },
    {
      "id": "33669ea8-b06d-4741-8b47-bbb9d6641a80",
      "name": "üîç Trigger Bright Data Scrape",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -2140,
        -760
      ],
      "parameters": {
        "url": "https://api.brightdata.com/datasets/v3/trigger",
        "method": "POST",
        "options": {},
        "jsonBody": "=[\n  {\n    \"url\": \"https://www.yelp.com/biz/the-round-hearth-caf%C3%A9-stowe?osq=Sandwiches\"\n  }\n]",
        "sendBody": true,
        "sendQuery": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "queryParameters": {
          "parameters": [
            {
              "name": "dataset_id",
              "value": "gd_lgugwl0519h1p14rwk"
            },
            {
              "name": "include_errors",
              "value": "true"
            },
            {
              "name": "limit_multiple_results",
              "value": "5"
            },
            {
              "name": "limit_per_input",
              "value": "20"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer BRIGHT_DATA_API_KEY"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "13a3a29b-054c-4232-b1d9-82042645ee6f",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1940,
        -840
      ],
      "parameters": {
        "color": 2,
        "width": 220,
        "height": 240,
        "content": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–Ω–∏–º–∫–∞ Bright Data."
      },
      "typeVersion": 1
    },
    {
      "id": "f5489303-a94a-4499-88dc-953ca6a27bed",
      "name": "üì° Monitor Snapshot Status",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1880,
        -760
      ],
      "parameters": {
        "url": "=https://api.brightdata.com/datasets/v3/progress/{{ $json.snapshot_id }}",
        "options": {},
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer BRIGHT_DATA_API_KEY"
            }
          ]
        }
      },
      "typeVersion": 4.2,
      "alwaysOutputData": true
    },
    {
      "id": "258146e5-4d3b-444c-8379-d2b3e303b74c",
      "name": "‚è≥ Wait 30 Sec for Snapshot",
      "type": "n8n-nodes-base.wait",
      "position": [
        -1660,
        -760
      ],
      "webhookId": "10b45556-5e91-4387-abd0-f9078b220286",
      "parameters": {
        "amount": 30
      },
      "typeVersion": 1.1
    },
    {
      "id": "58ef3944-2c0a-4249-97a4-b51d3c5dcb60",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1700,
        -840
      ],
      "parameters": {
        "color": 4,
        "width": 200,
        "height": 240,
        "content": "–ñ–¥–µ—Ç 30 —Å–µ–∫—É–Ω–¥ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö."
      },
      "typeVersion": 1
    },
    {
      "id": "2360c9bd-927e-49a1-9ac7-38d7c74208f9",
      "name": "üîÅ Retry Until Ready",
      "type": "n8n-nodes-base.if",
      "position": [
        -1420,
        -760
      ],
      "parameters": {
        "options": {},
        "conditions": {
          "options": {
            "version": 2,
            "leftValue": "",
            "caseSensitive": true,
            "typeValidation": "strict"
          },
          "combinator": "or",
          "conditions": [
            {
              "id": "35ed620d-b5d5-4e97-bcc5-52b283d85616",
              "operator": {
                "name": "filter.operator.equals",
                "type": "string",
                "operation": "equals"
              },
              "leftValue": "={{ $json.status }}",
              "rightValue": "ready"
            }
          ]
        }
      },
      "typeVersion": 2.2
    },
    {
      "id": "ead1165b-7665-49a4-9c0d-143dbfe085c8",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1480,
        -840
      ],
      "parameters": {
        "color": 5,
        "width": 220,
        "height": 240,
        "content": "–ï—Å–ª–∏ Bright Data –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –≥–æ—Ç–æ–≤—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –æ–∂–∏–¥–∞–Ω–∏—é —Å–Ω–æ–≤–∞. –ï—Å–ª–∏ –≥–æ—Ç–æ–≤—ã, –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç."
      },
      "typeVersion": 1
    },
    {
      "id": "fdc13050-dc51-4995-836c-83d775ffe23a",
      "name": "üì• Fetch Scraped Business Data",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1160,
        -780
      ],
      "parameters": {
        "url": "=https://api.brightdata.com/datasets/v3/snapshot/{{ $json.snapshot_id }}",
        "options": {},
        "sendQuery": true,
        "sendHeaders": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "format",
              "value": "json"
            }
          ]
        },
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer BRIGHT_DATA_API_KEY"
            }
          ]
        }
      },
      "typeVersion": 4.2
    },
    {
      "id": "c410d0a6-2d3c-4201-87dc-356b4ff015b7",
      "name": "Sticky Note5",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1220,
        -840
      ],
      "parameters": {
        "color": 7,
        "height": 240,
        "content": "–ò–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –±–∏–∑–Ω–µ—Å–µ –∏–∑ –≥–æ—Ç–æ–≤–æ–≥–æ —Å–Ω–∏–º–∫–∞."
      },
      "typeVersion": 1
    },
    {
      "id": "f511c8d4-d8c6-4ab5-949a-ba47189553d9",
      "name": "üìä Store to Google Sheet",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        -900,
        -780
      ],
      "parameters": {
        "columns": {
          "value": {},
          "schema": [
            {
              "id": "name",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "name",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "overall_rating",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "overall_rating",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "reviews_count",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "reviews_count",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "url",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "url",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            },
            {
              "id": "images_videos_urls",
              "type": "string",
              "display": true,
              "required": false,
              "displayName": "images_videos_urls",
              "defaultMatch": false,
              "canBeUsedToMatch": true
            }
          ],
          "mappingMode": "defineBelow",
          "matchingColumns": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {},
        "operation": "append",
        "sheetName": {
          "__rl": true,
          "mode": "list",
          "value": "gid=0",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit#gid=0",
          "cachedResultName": "Sheet1"
        },
        "documentId": {
          "__rl": true,
          "mode": "list",
          "value": "YOUR_GOOGLE_SHEET_ID",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit?usp=drivesdk",
          "cachedResultName": "Yelp scraper data by URL"
        }
      },
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "YOUR_GOOGLE_SHEETS_CREDENTIAL_ID",
          "name": "Google Sheets OAuth2"
        }
      },
      "typeVersion": 4.6
    },
    {
      "id": "6f9084cf-3437-450e-99fc-147ee7443289",
      "name": "Sticky Note6",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -960,
        -880
      ],
      "parameters": {
        "color": 4,
        "width": 280,
        "height": 280,
        "content": "üìä –û–±–Ω–æ–≤–ª—è–µ—Ç –≤–∞—à—É —Ç–∞–±–ª–∏—Ü—É Google —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –±–∏–∑–Ω–µ—Å–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –≤–µ–±-—Å–∞–π—Ç, —Ç–µ–ª–µ—Ñ–æ–Ω, —Ä–µ–π—Ç–∏–Ω–≥, –∞–¥—Ä–µ—Å –∏ —Ç.–¥.) –Ω–∞ –ª–∏—Å—Ç–µ '–î–∞–Ω–Ω—ã–µ —Å–±–æ—Ä—â–∏–∫–∞ Yelp –ø–æ URL'"
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "02404bee-4698-40fc-a884-85bb5ca751e7",
  "connections": {
    "üì• Form Trigger": {
      "main": [
        [
          {
            "node": "üîç Trigger Bright Data Scrape",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üîÅ Retry Until Ready": {
      "main": [
        [
          {
            "node": "üì• Fetch Scraped Business Data",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "üì° Monitor Snapshot Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "‚è≥ Wait 30 Sec for Snapshot": {
      "main": [
        [
          {
            "node": "üîÅ Retry Until Ready",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üì° Monitor Snapshot Status": {
      "main": [
        [
          {
            "node": "‚è≥ Wait 30 Sec for Snapshot",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üîç Trigger Bright Data Scrape": {
      "main": [
        [
          {
            "node": "üì° Monitor Snapshot Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "üì• Fetch Scraped Business Data": {
      "main": [
        [
          {
            "node": "üìä Store to Google Sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}